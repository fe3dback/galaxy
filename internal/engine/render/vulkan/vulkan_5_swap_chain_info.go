package vulkan

import (
	"fmt"

	"github.com/vulkan-go/vulkan"
)

var infImageFormats = map[vulkan.Format]string{
	vulkan.FormatR4g4UnormPack8:                       "R4g4UnormPack8",
	vulkan.FormatR4g4b4a4UnormPack16:                  "R4g4b4a4UnormPack16",
	vulkan.FormatB4g4r4a4UnormPack16:                  "B4g4r4a4UnormPack16",
	vulkan.FormatR5g6b5UnormPack16:                    "R5g6b5UnormPack16",
	vulkan.FormatB5g6r5UnormPack16:                    "B5g6r5UnormPack16",
	vulkan.FormatR5g5b5a1UnormPack16:                  "R5g5b5a1UnormPack16",
	vulkan.FormatB5g5r5a1UnormPack16:                  "B5g5r5a1UnormPack16",
	vulkan.FormatA1r5g5b5UnormPack16:                  "A1r5g5b5UnormPack16",
	vulkan.FormatR8Unorm:                              "R8Unorm",
	vulkan.FormatR8Snorm:                              "R8Snorm",
	vulkan.FormatR8Uscaled:                            "R8Uscaled",
	vulkan.FormatR8Sscaled:                            "R8Sscaled",
	vulkan.FormatR8Uint:                               "R8Uint",
	vulkan.FormatR8Sint:                               "R8Sint",
	vulkan.FormatR8Srgb:                               "R8Srgb",
	vulkan.FormatR8g8Unorm:                            "R8g8Unorm",
	vulkan.FormatR8g8Snorm:                            "R8g8Snorm",
	vulkan.FormatR8g8Uscaled:                          "R8g8Uscaled",
	vulkan.FormatR8g8Sscaled:                          "R8g8Sscaled",
	vulkan.FormatR8g8Uint:                             "R8g8Uint",
	vulkan.FormatR8g8Sint:                             "R8g8Sint",
	vulkan.FormatR8g8Srgb:                             "R8g8Srgb",
	vulkan.FormatR8g8b8Unorm:                          "R8g8b8Unorm",
	vulkan.FormatR8g8b8Snorm:                          "R8g8b8Snorm",
	vulkan.FormatR8g8b8Uscaled:                        "R8g8b8Uscaled",
	vulkan.FormatR8g8b8Sscaled:                        "R8g8b8Sscaled",
	vulkan.FormatR8g8b8Uint:                           "R8g8b8Uint",
	vulkan.FormatR8g8b8Sint:                           "R8g8b8Sint",
	vulkan.FormatR8g8b8Srgb:                           "R8g8b8Srgb",
	vulkan.FormatB8g8r8Unorm:                          "B8g8r8Unorm",
	vulkan.FormatB8g8r8Snorm:                          "B8g8r8Snorm",
	vulkan.FormatB8g8r8Uscaled:                        "B8g8r8Uscaled",
	vulkan.FormatB8g8r8Sscaled:                        "B8g8r8Sscaled",
	vulkan.FormatB8g8r8Uint:                           "B8g8r8Uint",
	vulkan.FormatB8g8r8Sint:                           "B8g8r8Sint",
	vulkan.FormatB8g8r8Srgb:                           "B8g8r8Srgb",
	vulkan.FormatR8g8b8a8Unorm:                        "R8g8b8a8Unorm",
	vulkan.FormatR8g8b8a8Snorm:                        "R8g8b8a8Snorm",
	vulkan.FormatR8g8b8a8Uscaled:                      "R8g8b8a8Uscaled",
	vulkan.FormatR8g8b8a8Sscaled:                      "R8g8b8a8Sscaled",
	vulkan.FormatR8g8b8a8Uint:                         "R8g8b8a8Uint",
	vulkan.FormatR8g8b8a8Sint:                         "R8g8b8a8Sint",
	vulkan.FormatR8g8b8a8Srgb:                         "R8g8b8a8Srgb",
	vulkan.FormatB8g8r8a8Unorm:                        "B8g8r8a8Unorm",
	vulkan.FormatB8g8r8a8Snorm:                        "B8g8r8a8Snorm",
	vulkan.FormatB8g8r8a8Uscaled:                      "B8g8r8a8Uscaled",
	vulkan.FormatB8g8r8a8Sscaled:                      "B8g8r8a8Sscaled",
	vulkan.FormatB8g8r8a8Uint:                         "B8g8r8a8Uint",
	vulkan.FormatB8g8r8a8Sint:                         "B8g8r8a8Sint",
	vulkan.FormatB8g8r8a8Srgb:                         "B8g8r8a8Srgb",
	vulkan.FormatA8b8g8r8UnormPack32:                  "A8b8g8r8UnormPack32",
	vulkan.FormatA8b8g8r8SnormPack32:                  "A8b8g8r8SnormPack32",
	vulkan.FormatA8b8g8r8UscaledPack32:                "A8b8g8r8UscaledPack32",
	vulkan.FormatA8b8g8r8SscaledPack32:                "A8b8g8r8SscaledPack32",
	vulkan.FormatA8b8g8r8UintPack32:                   "A8b8g8r8UintPack32",
	vulkan.FormatA8b8g8r8SintPack32:                   "A8b8g8r8SintPack32",
	vulkan.FormatA8b8g8r8SrgbPack32:                   "A8b8g8r8SrgbPack32",
	vulkan.FormatA2r10g10b10UnormPack32:               "A2r10g10b10UnormPack32",
	vulkan.FormatA2r10g10b10SnormPack32:               "A2r10g10b10SnormPack32",
	vulkan.FormatA2r10g10b10UscaledPack32:             "A2r10g10b10UscaledPack32",
	vulkan.FormatA2r10g10b10SscaledPack32:             "A2r10g10b10SscaledPack32",
	vulkan.FormatA2r10g10b10UintPack32:                "A2r10g10b10UintPack32",
	vulkan.FormatA2r10g10b10SintPack32:                "A2r10g10b10SintPack32",
	vulkan.FormatA2b10g10r10UnormPack32:               "A2b10g10r10UnormPack32",
	vulkan.FormatA2b10g10r10SnormPack32:               "A2b10g10r10SnormPack32",
	vulkan.FormatA2b10g10r10UscaledPack32:             "A2b10g10r10UscaledPack32",
	vulkan.FormatA2b10g10r10SscaledPack32:             "A2b10g10r10SscaledPack32",
	vulkan.FormatA2b10g10r10UintPack32:                "A2b10g10r10UintPack32",
	vulkan.FormatA2b10g10r10SintPack32:                "A2b10g10r10SintPack32",
	vulkan.FormatR16Unorm:                             "R16Unorm",
	vulkan.FormatR16Snorm:                             "R16Snorm",
	vulkan.FormatR16Uscaled:                           "R16Uscaled",
	vulkan.FormatR16Sscaled:                           "R16Sscaled",
	vulkan.FormatR16Uint:                              "R16Uint",
	vulkan.FormatR16Sint:                              "R16Sint",
	vulkan.FormatR16Sfloat:                            "R16Sfloat",
	vulkan.FormatR16g16Unorm:                          "R16g16Unorm",
	vulkan.FormatR16g16Snorm:                          "R16g16Snorm",
	vulkan.FormatR16g16Uscaled:                        "R16g16Uscaled",
	vulkan.FormatR16g16Sscaled:                        "R16g16Sscaled",
	vulkan.FormatR16g16Uint:                           "R16g16Uint",
	vulkan.FormatR16g16Sint:                           "R16g16Sint",
	vulkan.FormatR16g16Sfloat:                         "R16g16Sfloat",
	vulkan.FormatR16g16b16Unorm:                       "R16g16b16Unorm",
	vulkan.FormatR16g16b16Snorm:                       "R16g16b16Snorm",
	vulkan.FormatR16g16b16Uscaled:                     "R16g16b16Uscaled",
	vulkan.FormatR16g16b16Sscaled:                     "R16g16b16Sscaled",
	vulkan.FormatR16g16b16Uint:                        "R16g16b16Uint",
	vulkan.FormatR16g16b16Sint:                        "R16g16b16Sint",
	vulkan.FormatR16g16b16Sfloat:                      "R16g16b16Sfloat",
	vulkan.FormatR16g16b16a16Unorm:                    "R16g16b16a16Unorm",
	vulkan.FormatR16g16b16a16Snorm:                    "R16g16b16a16Snorm",
	vulkan.FormatR16g16b16a16Uscaled:                  "R16g16b16a16Uscaled",
	vulkan.FormatR16g16b16a16Sscaled:                  "R16g16b16a16Sscaled",
	vulkan.FormatR16g16b16a16Uint:                     "R16g16b16a16Uint",
	vulkan.FormatR16g16b16a16Sint:                     "R16g16b16a16Sint",
	vulkan.FormatR16g16b16a16Sfloat:                   "R16g16b16a16Sfloat",
	vulkan.FormatR32Uint:                              "R32Uint",
	vulkan.FormatR32Sint:                              "R32Sint",
	vulkan.FormatR32Sfloat:                            "R32Sfloat",
	vulkan.FormatR32g32Uint:                           "R32g32Uint",
	vulkan.FormatR32g32Sint:                           "R32g32Sint",
	vulkan.FormatR32g32Sfloat:                         "R32g32Sfloat",
	vulkan.FormatR32g32b32Uint:                        "R32g32b32Uint",
	vulkan.FormatR32g32b32Sint:                        "R32g32b32Sint",
	vulkan.FormatR32g32b32Sfloat:                      "R32g32b32Sfloat",
	vulkan.FormatR32g32b32a32Uint:                     "R32g32b32a32Uint",
	vulkan.FormatR32g32b32a32Sint:                     "R32g32b32a32Sint",
	vulkan.FormatR32g32b32a32Sfloat:                   "R32g32b32a32Sfloat",
	vulkan.FormatR64Uint:                              "R64Uint",
	vulkan.FormatR64Sint:                              "R64Sint",
	vulkan.FormatR64Sfloat:                            "R64Sfloat",
	vulkan.FormatR64g64Uint:                           "R64g64Uint",
	vulkan.FormatR64g64Sint:                           "R64g64Sint",
	vulkan.FormatR64g64Sfloat:                         "R64g64Sfloat",
	vulkan.FormatR64g64b64Uint:                        "R64g64b64Uint",
	vulkan.FormatR64g64b64Sint:                        "R64g64b64Sint",
	vulkan.FormatR64g64b64Sfloat:                      "R64g64b64Sfloat",
	vulkan.FormatR64g64b64a64Uint:                     "R64g64b64a64Uint",
	vulkan.FormatR64g64b64a64Sint:                     "R64g64b64a64Sint",
	vulkan.FormatR64g64b64a64Sfloat:                   "R64g64b64a64Sfloat",
	vulkan.FormatB10g11r11UfloatPack32:                "B10g11r11UfloatPack32",
	vulkan.FormatE5b9g9r9UfloatPack32:                 "E5b9g9r9UfloatPack32",
	vulkan.FormatD16Unorm:                             "D16Unorm",
	vulkan.FormatX8D24UnormPack32:                     "X8D24UnormPack32",
	vulkan.FormatD32Sfloat:                            "D32Sfloat",
	vulkan.FormatS8Uint:                               "S8Uint",
	vulkan.FormatD16UnormS8Uint:                       "D16UnormS8Uint",
	vulkan.FormatD24UnormS8Uint:                       "D24UnormS8Uint",
	vulkan.FormatD32SfloatS8Uint:                      "D32SfloatS8Uint",
	vulkan.FormatBc1RgbUnormBlock:                     "Bc1RgbUnormBlock",
	vulkan.FormatBc1RgbSrgbBlock:                      "Bc1RgbSrgbBlock",
	vulkan.FormatBc1RgbaUnormBlock:                    "Bc1RgbaUnormBlock",
	vulkan.FormatBc1RgbaSrgbBlock:                     "Bc1RgbaSrgbBlock",
	vulkan.FormatBc2UnormBlock:                        "Bc2UnormBlock",
	vulkan.FormatBc2SrgbBlock:                         "Bc2SrgbBlock",
	vulkan.FormatBc3UnormBlock:                        "Bc3UnormBlock",
	vulkan.FormatBc3SrgbBlock:                         "Bc3SrgbBlock",
	vulkan.FormatBc4UnormBlock:                        "Bc4UnormBlock",
	vulkan.FormatBc4SnormBlock:                        "Bc4SnormBlock",
	vulkan.FormatBc5UnormBlock:                        "Bc5UnormBlock",
	vulkan.FormatBc5SnormBlock:                        "Bc5SnormBlock",
	vulkan.FormatBc6hUfloatBlock:                      "Bc6hUfloatBlock",
	vulkan.FormatBc6hSfloatBlock:                      "Bc6hSfloatBlock",
	vulkan.FormatBc7UnormBlock:                        "Bc7UnormBlock",
	vulkan.FormatBc7SrgbBlock:                         "Bc7SrgbBlock",
	vulkan.FormatEtc2R8g8b8UnormBlock:                 "Etc2R8g8b8UnormBlock",
	vulkan.FormatEtc2R8g8b8SrgbBlock:                  "Etc2R8g8b8SrgbBlock",
	vulkan.FormatEtc2R8g8b8a1UnormBlock:               "Etc2R8g8b8a1UnormBlock",
	vulkan.FormatEtc2R8g8b8a1SrgbBlock:                "Etc2R8g8b8a1SrgbBlock",
	vulkan.FormatEtc2R8g8b8a8UnormBlock:               "Etc2R8g8b8a8UnormBlock",
	vulkan.FormatEtc2R8g8b8a8SrgbBlock:                "Etc2R8g8b8a8SrgbBlock",
	vulkan.FormatEacR11UnormBlock:                     "EacR11UnormBlock",
	vulkan.FormatEacR11SnormBlock:                     "EacR11SnormBlock",
	vulkan.FormatEacR11g11UnormBlock:                  "EacR11g11UnormBlock",
	vulkan.FormatEacR11g11SnormBlock:                  "EacR11g11SnormBlock",
	vulkan.FormatAstc4x4UnormBlock:                    "Astc4x4UnormBlock",
	vulkan.FormatAstc4x4SrgbBlock:                     "Astc4x4SrgbBlock",
	vulkan.FormatAstc5x4UnormBlock:                    "Astc5x4UnormBlock",
	vulkan.FormatAstc5x4SrgbBlock:                     "Astc5x4SrgbBlock",
	vulkan.FormatAstc5x5UnormBlock:                    "Astc5x5UnormBlock",
	vulkan.FormatAstc5x5SrgbBlock:                     "Astc5x5SrgbBlock",
	vulkan.FormatAstc6x5UnormBlock:                    "Astc6x5UnormBlock",
	vulkan.FormatAstc6x5SrgbBlock:                     "Astc6x5SrgbBlock",
	vulkan.FormatAstc6x6UnormBlock:                    "Astc6x6UnormBlock",
	vulkan.FormatAstc6x6SrgbBlock:                     "Astc6x6SrgbBlock",
	vulkan.FormatAstc8x5UnormBlock:                    "Astc8x5UnormBlock",
	vulkan.FormatAstc8x5SrgbBlock:                     "Astc8x5SrgbBlock",
	vulkan.FormatAstc8x6UnormBlock:                    "Astc8x6UnormBlock",
	vulkan.FormatAstc8x6SrgbBlock:                     "Astc8x6SrgbBlock",
	vulkan.FormatAstc8x8UnormBlock:                    "Astc8x8UnormBlock",
	vulkan.FormatAstc8x8SrgbBlock:                     "Astc8x8SrgbBlock",
	vulkan.FormatAstc10x5UnormBlock:                   "Astc10x5UnormBlock",
	vulkan.FormatAstc10x5SrgbBlock:                    "Astc10x5SrgbBlock",
	vulkan.FormatAstc10x6UnormBlock:                   "Astc10x6UnormBlock",
	vulkan.FormatAstc10x6SrgbBlock:                    "Astc10x6SrgbBlock",
	vulkan.FormatAstc10x8UnormBlock:                   "Astc10x8UnormBlock",
	vulkan.FormatAstc10x8SrgbBlock:                    "Astc10x8SrgbBlock",
	vulkan.FormatAstc10x10UnormBlock:                  "Astc10x10UnormBlock",
	vulkan.FormatAstc10x10SrgbBlock:                   "Astc10x10SrgbBlock",
	vulkan.FormatAstc12x10UnormBlock:                  "Astc12x10UnormBlock",
	vulkan.FormatAstc12x10SrgbBlock:                   "Astc12x10SrgbBlock",
	vulkan.FormatAstc12x12UnormBlock:                  "Astc12x12UnormBlock",
	vulkan.FormatAstc12x12SrgbBlock:                   "Astc12x12SrgbBlock",
	vulkan.FormatG8b8g8r8422Unorm:                     "G8b8g8r8422Unorm",
	vulkan.FormatB8g8r8g8422Unorm:                     "B8g8r8g8422Unorm",
	vulkan.FormatG8B8R83plane420Unorm:                 "G8B8R83plane420Unorm",
	vulkan.FormatG8B8r82plane420Unorm:                 "G8B8r82plane420Unorm",
	vulkan.FormatG8B8R83plane422Unorm:                 "G8B8R83plane422Unorm",
	vulkan.FormatG8B8r82plane422Unorm:                 "G8B8r82plane422Unorm",
	vulkan.FormatG8B8R83plane444Unorm:                 "G8B8R83plane444Unorm",
	vulkan.FormatR10x6UnormPack16:                     "R10x6UnormPack16",
	vulkan.FormatR10x6g10x6Unorm2pack16:               "R10x6g10x6Unorm2pack16",
	vulkan.FormatR10x6g10x6b10x6a10x6Unorm4pack16:     "R10x6g10x6b10x6a10x6Unorm4pack16",
	vulkan.FormatG10x6b10x6g10x6r10x6422Unorm4pack16:  "G10x6b10x6g10x6r10x6422Unorm4pack16",
	vulkan.FormatB10x6g10x6r10x6g10x6422Unorm4pack16:  "B10x6g10x6r10x6g10x6422Unorm4pack16",
	vulkan.FormatG10x6B10x6R10x63plane420Unorm3pack16: "G10x6B10x6R10x63plane420Unorm3pack16",
	vulkan.FormatG10x6B10x6r10x62plane420Unorm3pack16: "G10x6B10x6r10x62plane420Unorm3pack16",
	vulkan.FormatG10x6B10x6R10x63plane422Unorm3pack16: "G10x6B10x6R10x63plane422Unorm3pack16",
	vulkan.FormatG10x6B10x6r10x62plane422Unorm3pack16: "G10x6B10x6r10x62plane422Unorm3pack16",
	vulkan.FormatG10x6B10x6R10x63plane444Unorm3pack16: "G10x6B10x6R10x63plane444Unorm3pack16",
	vulkan.FormatR12x4UnormPack16:                     "R12x4UnormPack16",
	vulkan.FormatR12x4g12x4Unorm2pack16:               "R12x4g12x4Unorm2pack16",
	vulkan.FormatR12x4g12x4b12x4a12x4Unorm4pack16:     "R12x4g12x4b12x4a12x4Unorm4pack16",
	vulkan.FormatG12x4b12x4g12x4r12x4422Unorm4pack16:  "G12x4b12x4g12x4r12x4422Unorm4pack16",
	vulkan.FormatB12x4g12x4r12x4g12x4422Unorm4pack16:  "B12x4g12x4r12x4g12x4422Unorm4pack16",
	vulkan.FormatG12x4B12x4R12x43plane420Unorm3pack16: "G12x4B12x4R12x43plane420Unorm3pack16",
	vulkan.FormatG12x4B12x4r12x42plane420Unorm3pack16: "G12x4B12x4r12x42plane420Unorm3pack16",
	vulkan.FormatG12x4B12x4R12x43plane422Unorm3pack16: "G12x4B12x4R12x43plane422Unorm3pack16",
	vulkan.FormatG12x4B12x4r12x42plane422Unorm3pack16: "G12x4B12x4r12x42plane422Unorm3pack16",
	vulkan.FormatG12x4B12x4R12x43plane444Unorm3pack16: "G12x4B12x4R12x43plane444Unorm3pack16",
	vulkan.FormatG16b16g16r16422Unorm:                 "G16b16g16r16422Unorm",
	vulkan.FormatB16g16r16g16422Unorm:                 "B16g16r16g16422Unorm",
	vulkan.FormatG16B16R163plane420Unorm:              "G16B16R163plane420Unorm",
	vulkan.FormatG16B16r162plane420Unorm:              "G16B16r162plane420Unorm",
	vulkan.FormatG16B16R163plane422Unorm:              "G16B16R163plane422Unorm",
	vulkan.FormatG16B16r162plane422Unorm:              "G16B16r162plane422Unorm",
	vulkan.FormatG16B16R163plane444Unorm:              "G16B16R163plane444Unorm",
	vulkan.FormatPvrtc12bppUnormBlockImg:              "Pvrtc12bppUnormBlockImg",
	vulkan.FormatPvrtc14bppUnormBlockImg:              "Pvrtc14bppUnormBlockImg",
	vulkan.FormatPvrtc22bppUnormBlockImg:              "Pvrtc22bppUnormBlockImg",
	vulkan.FormatPvrtc24bppUnormBlockImg:              "Pvrtc24bppUnormBlockImg",
	vulkan.FormatPvrtc12bppSrgbBlockImg:               "Pvrtc12bppSrgbBlockImg",
	vulkan.FormatPvrtc14bppSrgbBlockImg:               "Pvrtc14bppSrgbBlockImg",
	vulkan.FormatPvrtc22bppSrgbBlockImg:               "Pvrtc22bppSrgbBlockImg",
	vulkan.FormatPvrtc24bppSrgbBlockImg:               "Pvrtc24bppSrgbBlockImg",
}

var infColorSpaces = map[vulkan.ColorSpace]string{
	vulkan.ColorSpaceSrgbNonlinear:         "SrgbNonlinear",
	vulkan.ColorSpaceDisplayP3Nonlinear:    "DisplayP3Nonlinear",
	vulkan.ColorSpaceExtendedSrgbLinear:    "ExtendedSrgbLinear",
	vulkan.ColorSpaceDciP3Linear:           "DciP3Linear",
	vulkan.ColorSpaceDciP3Nonlinear:        "DciP3Nonlinear",
	vulkan.ColorSpaceBt709Linear:           "Bt709Linear",
	vulkan.ColorSpaceBt709Nonlinear:        "Bt709Nonlinear",
	vulkan.ColorSpaceBt2020Linear:          "Bt2020Linear",
	vulkan.ColorSpaceHdr10St2084:           "Hdr10St2084",
	vulkan.ColorSpaceDolbyvision:           "Dolbyvision",
	vulkan.ColorSpaceHdr10Hlg:              "Hdr10Hlg",
	vulkan.ColorSpaceAdobergbLinear:        "AdobergbLinear",
	vulkan.ColorSpaceAdobergbNonlinear:     "AdobergbNonlinear",
	vulkan.ColorSpacePassThrough:           "PassThrough",
	vulkan.ColorSpaceExtendedSrgbNonlinear: "ExtendedSrgbNonlinear",
}

var infPresentModes = map[vulkan.PresentMode]string{
	vulkan.PresentModeImmediate:               "Immediate",
	vulkan.PresentModeMailbox:                 "Mailbox",
	vulkan.PresentModeFifo:                    "Fifo",
	vulkan.PresentModeFifoRelaxed:             "FifoRelaxed",
	vulkan.PresentModeSharedDemandRefresh:     "SharedDemandRefresh",
	vulkan.PresentModeSharedContinuousRefresh: "SharedContinuousRefresh",
}

func (inf *vkSwapChainInfo) String() string {
	return fmt.Sprintf("format=%s, colorSpace=%s, bufferSize=%s, presentMode=%s",
		inf.formatString(),
		inf.colorSpaceString(),
		inf.bufferSizeString(),
		inf.presentModeString(),
	)
}

func (inf *vkSwapChainInfo) formatString() string {
	if name, ok := infImageFormats[inf.imageFormat]; ok {
		return name
	}

	return "unknown"
}

func (inf *vkSwapChainInfo) colorSpaceString() string {
	if name, ok := infColorSpaces[inf.imageColorSpace]; ok {
		return name
	}

	return "unknown"
}

func (inf *vkSwapChainInfo) bufferSizeString() string {
	return fmt.Sprintf("[%dx%d]", inf.bufferSize.Width, inf.bufferSize.Height)
}

func (inf *vkSwapChainInfo) presentModeString() string {
	if name, ok := infPresentModes[inf.presentMode]; ok {
		return name
	}

	return "unknown"
}
